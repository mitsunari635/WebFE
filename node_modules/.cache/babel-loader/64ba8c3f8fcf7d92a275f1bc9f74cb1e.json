{"ast":null,"code":"var _jsxFileName = \"D:\\\\LienSon\\\\LienSon-FE\\\\src\\\\containers\\\\Customer\\\\Cart\\\\DetailCart.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport HomeHeader from \"../../HomePage/HomeHeader\";\nimport Tab from \"../../HomePage/Section/Tab\";\nimport HomeFooter from \"../../HomePage/HomeFooter\";\nimport \"./DetailCart.scss\";\nimport CurrencyFormat from \"react-currency-format\";\nimport { toInteger } from \"lodash\";\nimport Alert from \"react-bootstrap/Alert\";\nimport Button from \"react-bootstrap/Button\";\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport * as actions from \"../../../store/actions\";\nimport { toast } from \"react-toastify\";\nimport { addToOrder } from \"../../../store/actions\";\nimport { sendOrderEmail } from \"../../../services/userService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DetailCart = ({\n  cartItems,\n  SaveToOrder\n}) => {\n  _s();\n\n  const [orderNumber, setOrderNumber] = useState(null);\n  const [customerEmail, setCustomerEmail] = useState(null);\n  const [customerName, setCustomerName] = useState(null);\n  const [customerPhone, setCustomerPhone] = useState(null);\n  const [receiveAddress, setReceiveAdress] = useState(null);\n  const [customerCo, setCustomerCo] = useState(null);\n  const [customerTax, setCustomerTax] = useState(null);\n  const [customerCoAddress, setCustomerCoAddress] = useState(null);\n  const [couponConfirmed, setCouponConfirmed] = useState(false);\n  const [show, setShow] = useState(false);\n  const [isPopup, setIsPopup] = useState(true);\n  const [item, setItem] = useState();\n  const [selectedOption, setSelectedOption] = useState();\n  const [selectedMethod, setSelectedMethod] = useState();\n  const generatedOrderNumber = randomNumber();\n  const dispatch = useDispatch();\n  const orderItem = cartItems.map((item, index) => {\n    return {\n      name: item.detailProduct ? item.detailProduct.name : item.item.name,\n      amount: item.amount,\n      price: item.detailProduct ? item.detailProduct.price : item.item.price,\n      form: item.form,\n      total: item.amount * (item.detailProduct ? item.detailProduct.price : item.item.price),\n      type: item.detailProduct ? item.detailProduct.type : item.item.type\n    };\n  });\n  const totalAmount = cartItems.map(item => {\n    return item.amount;\n  }).reduce((a, b) => a + b, 0);\n  const preTotal = cartItems.map(item => {\n    return item.amount * (item.detailProduct ? item.detailProduct.price : item.item.price);\n  }).reduce((a, b) => a + b, 0);\n  const vat = preTotal * 8 / 100;\n  const discount = calcDiscount(preTotal);\n  const shipFee = calcShipFee(preTotal);\n  const couponDiscount = calcCouponDiscount(preTotal);\n  const finalTotal = couponConfirmed ? preTotal + vat + shipFee - discount - couponDiscount : preTotal + vat + shipFee - discount;\n  const history = useHistory();\n  const coupon = \"freeship\";\n\n  function randomNumber() {\n    let result = \"\";\n    const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n    const charactersLength = characters.length;\n    let counter = 0;\n\n    while (counter < 5) {\n      result += characters.charAt(Math.random() * charactersLength);\n      counter += 1;\n    }\n\n    return result;\n  }\n\n  function checkOrderNumber() {\n    if (orderNumber === null) {\n      setOrderNumber(generatedOrderNumber);\n      return generatedOrderNumber;\n    } else {\n      return orderNumber;\n    }\n  }\n\n  function handleRemove(index) {\n    // Check if the index is already deleted.\n    if (index > cartItems.length) {\n      // If the index is already deleted, set it to the previous index.\n      index -= 1;\n    }\n\n    cartItems.splice(index, 1);\n    setItem([...cartItems]);\n    localStorage.setItem(\"cartNumber\", cartItems.length);\n  }\n\n  function incNum(item) {\n    item.amount += 1;\n    setItem(item.amount);\n  }\n\n  function decNum(item) {\n    if (item.amount > 1) {\n      item.amount -= 1;\n      setItem(item.amount);\n    }\n  }\n\n  function handleChange(index, e) {\n    const updatedCartItems = [...cartItems];\n    updatedCartItems[index].amount = parseInt(e.target.value);\n    setItem(updatedCartItems);\n  }\n\n  function checkValidate() {\n    if (selectedOption === \"Có\") {\n      if (!customerCo) {\n        toast.error(\"Tên công ty không được để trống\");\n      } else if (!customerTax) {\n        toast.error(\"Mã số thuế không được để trống\");\n      } else if (!/^[0-9]{1,13}$/.test(customerTax)) {\n        toast.error(\"Mã số thuế không phù hợp. Xin hãy nhập lại\");\n      } else if (customerTax.length > 13) {\n        toast.error(\"Mã số thuế không được quá 13 số\");\n      } else if (!customerCoAddress) {\n        toast.error(\"Địa chỉ công ty không được để trống\");\n      } else if (!customerEmail) {\n        toast.error(\"E-mail không được để trống\");\n      } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(customerEmail)) {\n        toast.error(\"E-mail của quý khách không phù hợp. Xin hãy nhập lại\");\n      } else {\n        setShow(true);\n      }\n    } else {\n      if (!customerName) {\n        toast.error(\"Tên người mua không được để trống\");\n      } else if (/^[0-9\\s.,!?]*$/.test(customerName)) {\n        toast.error(\"Tên không phù hợp. Xin hãy nhập lại\");\n      } else if (!customerPhone) {\n        toast.error(\"Số điện thoại không được để trống\");\n      } else if (!/^[0-9]{1,12}$/.test(customerPhone)) {\n        toast.error(\"Số điện thoại không phù hợp. Xin hãy nhập lại\");\n      } else if (customerPhone.length < 10) {\n        toast.error(\"Số điện thoại không được ít hơn 10 số\");\n      } else if (customerPhone.length > 12) {\n        toast.error(\"Số điện thoại không được quá 12 số\");\n      } else if (!receiveAddress) {\n        toast.error(\"Địa chỉ nhận hàng không được để trống\");\n      } else {\n        setShow(true);\n      }\n    }\n  }\n\n  function handleConfirmOrder() {\n    if (!selectedMethod) {\n      toast.error(\"Xin chọn phương thức thanh toán\");\n    } else if (!selectedOption) {\n      toast.error(\"Xin chọn tùy chọn in hóa đơn\");\n    } else {\n      checkValidate();\n    }\n  }\n\n  function handleMoveToOrder() {\n    const orderDetails = {\n      orderItem,\n      generatedOrderNumber,\n      customerName,\n      customerPhone,\n      receiveAddress,\n      customerTax,\n      customerCo,\n      customerCoAddress,\n      customerEmail,\n      selectedMethod,\n      selectedOption,\n      preTotal,\n      vat,\n      discount,\n      finalTotal,\n      totalAmount,\n      shipFee,\n      couponDiscount\n    };\n    dispatch(addToOrder(orderDetails));\n  }\n\n  async function handleSendEmail() {\n    let isValid = checkValidate();\n    if (isValid === false) return;\n    await sendOrderEmail({\n      name: customerName,\n      phone: customerPhone,\n      orderNumber: generatedOrderNumber\n    });\n  }\n\n  function handleSaveToOrder() {\n    const description = [];\n    const orderNumber = checkOrderNumber();\n\n    if (cartItems && cartItems.length > 0) {\n      cartItems.map((item, index) => {\n        var _item$detailProduct, _item$detailProduct2;\n\n        let object = {};\n        object.orderNumber = orderNumber;\n        object.productName = ((_item$detailProduct = item.detailProduct) === null || _item$detailProduct === void 0 ? void 0 : _item$detailProduct.name) || item.item.name;\n        object.amount = item.amount;\n        object.prePrice = item.amount * (item.detailProduct ? item.detailProduct.price : item.item.price);\n        object.form = item.form;\n        object.type = ((_item$detailProduct2 = item.detailProduct) === null || _item$detailProduct2 === void 0 ? void 0 : _item$detailProduct2.type) || item.item.type;\n        description.push(object);\n      });\n    }\n\n    SaveToOrder({\n      orderNumber: orderNumber,\n      statusID: \"S1\",\n      email: customerEmail,\n      fullName: customerName,\n      phoneNumber: customerPhone,\n      taxNumber: customerTax,\n      receiveAddress: receiveAddress,\n      companyName: customerCo,\n      companyAddress: customerCoAddress,\n      description: description,\n      preTotal: preTotal,\n      vat: vat,\n      shipFee: shipFee,\n      totalPrice: finalTotal,\n      discount: discount,\n      payments: selectedMethod,\n      billPrinted: selectedOption,\n      couponDiscount: couponDiscount\n    });\n    setItem(cartItems); // toast.success(\"Đặt hàng thành công\");\n\n    handleMoveToOrder();\n    handleSendEmail();\n    cartItems.splice(0, cartItems.length);\n    history.push(\"/hoa-don\");\n  }\n\n  function calcDiscount(preTotal) {\n    if (preTotal < 5000000) {\n      return 0;\n    }\n\n    if (5000000 <= preTotal) {\n      if (10000000 <= preTotal) {\n        if (20000000 <= preTotal) {\n          return preTotal * (5 / 100);\n        }\n\n        return preTotal * (3 / 100);\n      }\n\n      return preTotal * (1 / 100);\n    }\n  }\n\n  function calcShipFee(preTotal) {\n    if (preTotal < 10000000) {\n      return 35000;\n    } else {\n      if (preTotal < 20000000) {\n        return 20000;\n      } else {\n        return 0;\n      }\n    }\n  }\n\n  function calcCouponDiscount(preTotal) {\n    if (preTotal < 1000000) {\n      return 0;\n    } else {\n      return toInteger(shipFee);\n    }\n  }\n\n  function handleChangeCustom(e) {\n    cartItems && cartItems.length > 0 && cartItems.map(item => {\n      item.form = e.target.value;\n    });\n  }\n\n  function handleCheckCoupon(event) {\n    let check = event.target.value;\n\n    if (event.key === \"Enter\") {\n      if (check === coupon) {\n        setCouponConfirmed(true);\n      } else {\n        toast.error(\"Coupon không tồn tại\");\n      }\n    }\n  }\n\n  function toProductPage() {\n    history.push(\"/san-pham\");\n  }\n\n  function toRollPaperPage() {\n    history.push(\"/giay-cuon\");\n  }\n\n  function toPerforatedPage() {\n    history.push(\"/giay-dllt\");\n  }\n\n  function toPhotoPage() {\n    history.push(\"/giay-photo\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HomeHeader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tab, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 328,\n      columnNumber: 7\n    }, this), cartItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-title\",\n        children: \"Gi\\u1ECF h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-empty-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-cart\",\n          children: \"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m trong gi\\u1ECF h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"return-pages\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toRollPaperPage,\n            children: \"Xem gi\\u1EA5y cu\\u1ED9n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toPerforatedPage,\n            children: \"Xem gi\\u1EA5y \\u0111\\u1EE5c l\\u1ED7 li\\xEAn t\\u1EE5c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toPhotoPage,\n            children: \"Xem gi\\u1EA5y photocopy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this), cartItems.length !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-title\",\n        children: \"Gi\\u1ECF h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 347,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-detail-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-product-container\",\n          children: [cartItems.map((item, index) => {\n            const itemTotalPrice = item.amount * (item.detailProduct ? item.detailProduct.price : item.item.price);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-img\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.detailProduct ? item.detailProduct.image : Buffer.from(item.item.image, \"base64\").toString(\"binary\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-detail\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"name\",\n                  children: item.detailProduct ? item.detailProduct.name : item.item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 371,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"amount\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"S\\u1ED1 l\\u01B0\\u1EE3ng:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 377,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"decrease\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => decNum(item),\n                      children: \"-\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 379,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"number\",\n                    className: \"amount-number\",\n                    value: item.amount,\n                    onChange: e => handleChange(index, e)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"increase\",\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => incNum(item),\n                      children: \"+\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 390,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 23\n                }, this), item.detailProduct ? item.detailProduct.type === \"đllt\" : item.item.type === \"đllt\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"form\",\n                  children: [\"H\\xECnh th\\u1EE9c: \", item.form]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 398,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-total-price\",\n                  children: [\"Th\\xE0nh ti\\u1EC1n:\", /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                    className: \"price-number\",\n                    value: itemTotalPrice,\n                    displayType: \"text\",\n                    thousandSeparator: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 411,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"currency\",\n                    children: \"VN\\u0110\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 417,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 409,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"delete-btn\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleRemove(index),\n                  children: \"X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 421,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 357,\n              columnNumber: 19\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"total-price\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-text\",\n                children: \"T\\u1EA1m t\\xEDnh:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"total-number\",\n                children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: preTotal,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"total-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"vat\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"vat-text\",\n                children: \"Thu\\u1EBF VAT (8%):\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"vat-number\",\n                children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: vat,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 443,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"vat-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 442,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"shipFee\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ship-text\",\n                children: \"Ph\\xED v\\u1EADn chuy\\u1EC3n:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 453,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ship-number\",\n                children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: shipFee,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 455,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ship-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 454,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 17\n            }, this), preTotal >= toInteger(1000000) && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"coupon\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"coupon-text\",\n                children: \"M\\xE3 gi\\u1EA3m gi\\xE1:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 21\n              }, this), !couponConfirmed && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"coupon-input\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  onKeyDown: event => handleCheckCoupon(event)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 23\n              }, this), couponConfirmed && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"coupon-number\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 483,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: couponDiscount,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 484,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"coupon-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 19\n            }, this), discount !== 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"discount\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"discount-text\",\n                children: \"Chi\\u1EBFt kh\\u1EA5u:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 497,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"discount-number\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"-\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 499,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: discount,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 500,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"discount-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 505,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 498,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 496,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"final\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"final-text\",\n                children: \"T\\u1ED5ng ti\\u1EC1n thanh to\\xE1n:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 511,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"final-number\",\n                children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                  value: finalTotal,\n                  displayType: \"text\",\n                  thousandSeparator: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 513,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"final-currency\",\n                  children: \"VN\\u0110\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 518,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 427,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"commit-btn\",\n            onClick: () => handleConfirmOrder(selectedOption),\n            children: \"\\u0110\\u1EB7t h\\xE0ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 522,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-option-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-payment\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"payment-choose\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-text\",\n                children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"payment-method\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  defaultValue: \"option\",\n                  onChange: e => setSelectedMethod(e.currentTarget.value),\n                  children: [\"Ch\\u1ECDn ph\\u01B0\\u01A1ng th\\u1EE9c tr\\u1EA3 ti\\u1EC1n\", /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"option\",\n                    hidden: true,\n                    children: \"Ph\\u01B0\\u01A1ng th\\u1EE9c\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 540,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Ti\\u1EC1n m\\u1EB7t\",\n                    children: \"Ti\\u1EC1n m\\u1EB7t\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Chuy\\u1EC3n kho\\u1EA3n\",\n                    children: \"Chuy\\u1EC3n kho\\u1EA3n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 532,\n              columnNumber: 17\n            }, this), selectedMethod === \"Tiền mặt\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cashPay\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Qu\\xFD kh\\xE1ch s\\u1EBD ti\\u1EBFn h\\xE0nh thanh to\\xE1n cho ng\\u01B0\\u1EDDi v\\u1EADn chuy\\u1EC3n sau khi nh\\u1EADn v\\xE0 ki\\u1EC3m tra h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 550,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 549,\n              columnNumber: 19\n            }, this), selectedMethod === \"Chuyển khoản\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bankPay\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Qu\\xFD kh\\xE1ch vui l\\xF2ng thanh to\\xE1n theo s\\u1ED1 t\\xE0i kho\\u1EA3n sau:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"S\\u1ED1 t\\xE0i kho\\u1EA3n: 037-1001-888888 \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 53\n                }, this), \"Ng\\xE2n h\\xE0ng Vietcombank - CN T\\xE2n \\u0110\\u1ECBnh\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 561,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"C\\xFA ph\\xE1p: S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i _ M\\xE3 h\\xF3a \\u0111\\u01A1n \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 566,\n                  columnNumber: 59\n                }, this), \"(M\\xE3 h\\xF3a \\u0111\\u01A1n l\\u1EA5y t\\u1EA1i h\\xF3a \\u0111\\u01A1n t\\u1EA1m t\\xEDnh sau khi x\\xE1c nh\\u1EADn \\u0111\\u1EB7t h\\xE0ng)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 565,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 531,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bill-export\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bill-option-select\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bill-text\",\n                children: \"Xu\\u1EA5t h\\xF3a \\u0111\\u01A1n gi\\xE1 tr\\u1ECB gia t\\u0103ng:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 576,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bill-option\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  style: {\n                    textAlign: \"center\"\n                  },\n                  defaultValue: \"method\",\n                  onChange: e => setSelectedOption(e.currentTarget.value),\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"method\",\n                    hidden: true,\n                    children: \"T\\xF9y ch\\u1ECDn\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 585,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"C\\xF3\",\n                    children: \"C\\xF3\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 588,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Kh\\xF4ng\",\n                    children: \"Kh\\xF4ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 589,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 580,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 575,\n              columnNumber: 17\n            }, this), selectedOption === \"Có\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-title\",\n                children: \"Phi\\u1EBFu nh\\u1EADp th\\xF4ng tin kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 595,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"second-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"T\\xEAn c\\xF4ng ty:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 600,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerCo(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 602,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 599,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"M\\xE3 s\\u1ED1 thu\\u1EBF:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 609,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 610,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerTax(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 611,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 608,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"second-form-below\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"\\u0110\\u1ECBa ch\\u1EC9 c\\xF4ng ty:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 620,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 621,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerCoAddress(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 622,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 619,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 618,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"first-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"E-mail:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 634,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 632,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"email\",\n                    onChange: e => setCustomerEmail(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 636,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 631,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"T\\xEAn ng\\u01B0\\u1EDDi mua:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 645,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 643,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 647,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 642,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 656,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 654,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerPhone(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 658,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 653,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 630,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"first-form-below\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"\\u0110\\u1ECBa ch\\u1EC9 nh\\u1EADn h\\xE0ng:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 669,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 667,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setReceiveAdress(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 671,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"(Ngo\\xE0i kv TP.HCM, ch\\xFAng t\\xF4i s\\u1EBD li\\xEAn h\\u1EC7 qu\\xFD kh\\xE1ch \\u0111\\u1EC3 b\\xE1o gi\\xE1 v\\u1EADn chuy\\u1EC3n)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 676,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 666,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 665,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 19\n            }, this), selectedOption === \"Không\" && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"info-form\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-title\",\n                children: \"Phi\\u1EBFu nh\\u1EADp th\\xF4ng tin kh\\xE1ch h\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 687,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"first-form\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"E-mail:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 692,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"email\",\n                    onChange: e => setCustomerEmail(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 693,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 691,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"T\\xEAn ng\\u01B0\\u1EDDi mua:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 702,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 700,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerName(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 704,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 699,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 711,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setCustomerPhone(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 715,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 710,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 690,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"first-form-below\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-12\",\n                  children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                    children: [\"\\u0110\\u1ECBa ch\\u1EC9 giao h\\xE0ng:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"*\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 726,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 724,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    className: \"form-control\",\n                    type: \"text\",\n                    onChange: e => setReceiveAdress(e.target.value)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 728,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: \"(Ngo\\xE0i kv TP.HCM, ch\\xFAng t\\xF4i s\\u1EBD li\\xEAn h\\u1EC7 qu\\xFD kh\\xE1ch \\u0111\\u1EC3 b\\xE1o gi\\xE1 v\\u1EADn chuy\\u1EC3n)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 733,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 723,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 722,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 686,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 11\n      }, this), show && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-overlay\",\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          show: show,\n          variant: \"warning\",\n          transition: \"true\",\n          style: {\n            position: \"fixed\",\n            top: \"50%\",\n            left: \"50%\",\n            transform: \"translate(-50%, -50%)\",\n            zIndex: \"1000\",\n            textAlign: \"center\",\n            transition: \"step-start\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Alert.Heading, {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"L\\u01B0u \\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 760,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Xin qu\\xFD kh\\xE1ch vui l\\xF2ng ki\\u1EC3m tra l\\u1EA1i danh s\\xE1ch s\\u1EA3n ph\\u1EA9m \\u0111\\xE3 \\u0111\\u1EB7t v\\xE0 th\\xF4ng tin \\u0111\\u1EB7t h\\xE0ng tr\\u01B0\\u1EDBc khi x\\xE1c nh\\u1EADn. Sau khi x\\xE1c nh\\u1EADn gi\\u1ECF h\\xE0ng s\\u1EBD t\\u1EF1 \\u0111\\u1ED9ng x\\xF3a.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 763,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              textAlign: \"center\"\n            },\n            children: \"Xin c\\u1EA3m \\u01A1n qu\\xFD kh\\xE1ch\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 768,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 769,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-center\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => handleSaveToOrder(),\n              variant: \"outline-success\",\n              children: \"X\\xE1c nh\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              onClick: () => setShow(false),\n              variant: \"outline-danger\",\n              children: \"Tr\\u1EDF l\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 778,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 746,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 346,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(HomeFooter, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 790,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DetailCart, \"UzF4XitpaLFvNQtzidkI2YgFjx0=\", false, function () {\n  return [useDispatch, useHistory];\n});\n\n_c = DetailCart;\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cart.cartItems\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    SaveToOrder: cartItems => dispatch(actions.SaveToOrder(cartItems)),\n    addToOrder: orderDetails => dispatch(actions.addToOrder(orderDetails))\n  };\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(DetailCart));\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailCart\");","map":{"version":3,"sources":["D:/LienSon/LienSon-FE/src/containers/Customer/Cart/DetailCart.js"],"names":["React","useState","connect","useDispatch","HomeHeader","Tab","HomeFooter","CurrencyFormat","toInteger","Alert","Button","withRouter","useHistory","actions","toast","addToOrder","sendOrderEmail","DetailCart","cartItems","SaveToOrder","orderNumber","setOrderNumber","customerEmail","setCustomerEmail","customerName","setCustomerName","customerPhone","setCustomerPhone","receiveAddress","setReceiveAdress","customerCo","setCustomerCo","customerTax","setCustomerTax","customerCoAddress","setCustomerCoAddress","couponConfirmed","setCouponConfirmed","show","setShow","isPopup","setIsPopup","item","setItem","selectedOption","setSelectedOption","selectedMethod","setSelectedMethod","generatedOrderNumber","randomNumber","dispatch","orderItem","map","index","name","detailProduct","amount","price","form","total","type","totalAmount","reduce","a","b","preTotal","vat","discount","calcDiscount","shipFee","calcShipFee","couponDiscount","calcCouponDiscount","finalTotal","history","coupon","result","characters","charactersLength","length","counter","charAt","Math","random","checkOrderNumber","handleRemove","splice","localStorage","incNum","decNum","handleChange","e","updatedCartItems","parseInt","target","value","checkValidate","error","test","handleConfirmOrder","handleMoveToOrder","orderDetails","handleSendEmail","isValid","phone","handleSaveToOrder","description","object","productName","prePrice","push","statusID","email","fullName","phoneNumber","taxNumber","companyName","companyAddress","totalPrice","payments","billPrinted","handleChangeCustom","handleCheckCoupon","event","check","key","toProductPage","toRollPaperPage","toPerforatedPage","toPhotoPage","itemTotalPrice","image","Buffer","from","toString","currentTarget","textAlign","position","top","left","transform","zIndex","transition","mapStateToProps","state","cart","mapDispatchToProps"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport HomeHeader from \"../../HomePage/HomeHeader\";\r\nimport Tab from \"../../HomePage/Section/Tab\";\r\nimport HomeFooter from \"../../HomePage/HomeFooter\";\r\nimport \"./DetailCart.scss\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport { toInteger } from \"lodash\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport { withRouter, useHistory } from \"react-router-dom\";\r\nimport * as actions from \"../../../store/actions\";\r\nimport { toast } from \"react-toastify\";\r\nimport { addToOrder } from \"../../../store/actions\";\r\nimport { sendOrderEmail } from \"../../../services/userService\";\r\n\r\nconst DetailCart = ({ cartItems, SaveToOrder }) => {\r\n  const [orderNumber, setOrderNumber] = useState(null);\r\n  const [customerEmail, setCustomerEmail] = useState(null);\r\n  const [customerName, setCustomerName] = useState(null);\r\n  const [customerPhone, setCustomerPhone] = useState(null);\r\n  const [receiveAddress, setReceiveAdress] = useState(null);\r\n  const [customerCo, setCustomerCo] = useState(null);\r\n  const [customerTax, setCustomerTax] = useState(null);\r\n  const [customerCoAddress, setCustomerCoAddress] = useState(null);\r\n\r\n  const [couponConfirmed, setCouponConfirmed] = useState(false);\r\n\r\n  const [show, setShow] = useState(false);\r\n\r\n  const [isPopup, setIsPopup] = useState(true);\r\n\r\n  const [item, setItem] = useState();\r\n  const [selectedOption, setSelectedOption] = useState();\r\n  const [selectedMethod, setSelectedMethod] = useState();\r\n  const generatedOrderNumber = randomNumber();\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const orderItem = cartItems.map((item, index) => {\r\n    return {\r\n      name: item.detailProduct ? item.detailProduct.name : item.item.name,\r\n      amount: item.amount,\r\n      price: item.detailProduct ? item.detailProduct.price : item.item.price,\r\n      form: item.form,\r\n      total:\r\n        item.amount *\r\n        (item.detailProduct ? item.detailProduct.price : item.item.price),\r\n      type: item.detailProduct ? item.detailProduct.type : item.item.type,\r\n    };\r\n  });\r\n  const totalAmount = cartItems\r\n    .map((item) => {\r\n      return item.amount;\r\n    })\r\n    .reduce((a, b) => a + b, 0);\r\n  const preTotal = cartItems\r\n    .map((item) => {\r\n      return (\r\n        item.amount *\r\n        (item.detailProduct ? item.detailProduct.price : item.item.price)\r\n      );\r\n    })\r\n    .reduce((a, b) => a + b, 0);\r\n  const vat = (preTotal * 8) / 100;\r\n  const discount = calcDiscount(preTotal);\r\n  const shipFee = calcShipFee(preTotal);\r\n  const couponDiscount = calcCouponDiscount(preTotal);\r\n  const finalTotal = couponConfirmed\r\n    ? preTotal + vat + shipFee - discount - couponDiscount\r\n    : preTotal + vat + shipFee - discount;\r\n  const history = useHistory();\r\n\r\n  const coupon = \"freeship\";\r\n\r\n  function randomNumber() {\r\n    let result = \"\";\r\n    const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\n    const charactersLength = characters.length;\r\n    let counter = 0;\r\n    while (counter < 5) {\r\n      result += characters.charAt(Math.random() * charactersLength);\r\n      counter += 1;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  function checkOrderNumber() {\r\n    if (orderNumber === null) {\r\n      setOrderNumber(generatedOrderNumber);\r\n      return generatedOrderNumber;\r\n    } else {\r\n      return orderNumber;\r\n    }\r\n  }\r\n\r\n  function handleRemove(index) {\r\n    // Check if the index is already deleted.\r\n    if (index > cartItems.length) {\r\n      // If the index is already deleted, set it to the previous index.\r\n      index -= 1;\r\n    }\r\n    cartItems.splice(index, 1);\r\n    setItem([...cartItems]);\r\n    localStorage.setItem(\"cartNumber\", cartItems.length);\r\n  }\r\n\r\n  function incNum(item) {\r\n    item.amount += 1;\r\n    setItem(item.amount);\r\n  }\r\n\r\n  function decNum(item) {\r\n    if (item.amount > 1) {\r\n      item.amount -= 1;\r\n      setItem(item.amount);\r\n    }\r\n  }\r\n\r\n  function handleChange(index, e) {\r\n    const updatedCartItems = [...cartItems];\r\n    updatedCartItems[index].amount = parseInt(e.target.value);\r\n    setItem(updatedCartItems);\r\n  }\r\n\r\n  function checkValidate() {\r\n    if (selectedOption === \"Có\") {\r\n      if (!customerCo) {\r\n        toast.error(\"Tên công ty không được để trống\");\r\n      } else if (!customerTax) {\r\n        toast.error(\"Mã số thuế không được để trống\");\r\n      } else if (!/^[0-9]{1,13}$/.test(customerTax)) {\r\n        toast.error(\"Mã số thuế không phù hợp. Xin hãy nhập lại\");\r\n      } else if (customerTax.length > 13) {\r\n        toast.error(\"Mã số thuế không được quá 13 số\");\r\n      } else if (!customerCoAddress) {\r\n        toast.error(\"Địa chỉ công ty không được để trống\");\r\n      } else if (!customerEmail) {\r\n        toast.error(\"E-mail không được để trống\");\r\n      } else if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(customerEmail)) {\r\n        toast.error(\"E-mail của quý khách không phù hợp. Xin hãy nhập lại\");\r\n      } else {\r\n        setShow(true);\r\n      }\r\n    } else {\r\n      if (!customerName) {\r\n        toast.error(\"Tên người mua không được để trống\");\r\n      } else if (/^[0-9\\s.,!?]*$/.test(customerName)) {\r\n        toast.error(\"Tên không phù hợp. Xin hãy nhập lại\");\r\n      } else if (!customerPhone) {\r\n        toast.error(\"Số điện thoại không được để trống\");\r\n      } else if (!/^[0-9]{1,12}$/.test(customerPhone)) {\r\n        toast.error(\"Số điện thoại không phù hợp. Xin hãy nhập lại\");\r\n      } else if (customerPhone.length < 10) {\r\n        toast.error(\"Số điện thoại không được ít hơn 10 số\");\r\n      } else if (customerPhone.length > 12) {\r\n        toast.error(\"Số điện thoại không được quá 12 số\");\r\n      } else if (!receiveAddress) {\r\n        toast.error(\"Địa chỉ nhận hàng không được để trống\");\r\n      } else {\r\n        setShow(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  function handleConfirmOrder() {\r\n    if (!selectedMethod) {\r\n      toast.error(\"Xin chọn phương thức thanh toán\");\r\n    } else if (!selectedOption) {\r\n      toast.error(\"Xin chọn tùy chọn in hóa đơn\");\r\n    } else {\r\n      checkValidate();\r\n    }\r\n  }\r\n\r\n  function handleMoveToOrder() {\r\n    const orderDetails = {\r\n      orderItem,\r\n      generatedOrderNumber,\r\n      customerName,\r\n      customerPhone,\r\n      receiveAddress,\r\n      customerTax,\r\n      customerCo,\r\n      customerCoAddress,\r\n      customerEmail,\r\n      selectedMethod,\r\n      selectedOption,\r\n      preTotal,\r\n      vat,\r\n      discount,\r\n      finalTotal,\r\n      totalAmount,\r\n      shipFee,\r\n      couponDiscount,\r\n    };\r\n    dispatch(addToOrder(orderDetails));\r\n  }\r\n\r\n  async function handleSendEmail() {\r\n    let isValid = checkValidate();\r\n    if (isValid === false) return;\r\n\r\n    await sendOrderEmail({\r\n      name: customerName,\r\n      phone: customerPhone,\r\n      orderNumber: generatedOrderNumber,\r\n    });\r\n  }\r\n\r\n  function handleSaveToOrder() {\r\n    const description = [];\r\n    const orderNumber = checkOrderNumber();\r\n    if (cartItems && cartItems.length > 0) {\r\n      cartItems.map((item, index) => {\r\n        let object = {};\r\n        object.orderNumber = orderNumber;\r\n        object.productName = item.detailProduct?.name || item.item.name;\r\n        object.amount = item.amount;\r\n        object.prePrice =\r\n          item.amount *\r\n          (item.detailProduct ? item.detailProduct.price : item.item.price);\r\n        object.form = item.form;\r\n        object.type = item.detailProduct?.type || item.item.type;\r\n        description.push(object);\r\n      });\r\n    }\r\n    SaveToOrder({\r\n      orderNumber: orderNumber,\r\n      statusID: \"S1\",\r\n      email: customerEmail,\r\n      fullName: customerName,\r\n      phoneNumber: customerPhone,\r\n      taxNumber: customerTax,\r\n      receiveAddress: receiveAddress,\r\n      companyName: customerCo,\r\n      companyAddress: customerCoAddress,\r\n      description: description,\r\n      preTotal: preTotal,\r\n      vat: vat,\r\n      shipFee: shipFee,\r\n      totalPrice: finalTotal,\r\n      discount: discount,\r\n      payments: selectedMethod,\r\n      billPrinted: selectedOption,\r\n      couponDiscount: couponDiscount,\r\n    });\r\n    setItem(cartItems);\r\n    // toast.success(\"Đặt hàng thành công\");\r\n    handleMoveToOrder();\r\n    handleSendEmail();\r\n    cartItems.splice(0, cartItems.length);\r\n    history.push(\"/hoa-don\");\r\n  }\r\n\r\n  function calcDiscount(preTotal) {\r\n    if (preTotal < 5000000) {\r\n      return 0;\r\n    }\r\n    if (5000000 <= preTotal) {\r\n      if (10000000 <= preTotal) {\r\n        if (20000000 <= preTotal) {\r\n          return preTotal * (5 / 100);\r\n        }\r\n        return preTotal * (3 / 100);\r\n      }\r\n      return preTotal * (1 / 100);\r\n    }\r\n  }\r\n\r\n  function calcShipFee(preTotal) {\r\n    if (preTotal < 10000000) {\r\n      return 35000;\r\n    } else {\r\n      if (preTotal < 20000000) {\r\n        return 20000;\r\n      } else {\r\n        return 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  function calcCouponDiscount(preTotal) {\r\n    if (preTotal < 1000000) {\r\n      return 0;\r\n    } else {\r\n      return toInteger(shipFee);\r\n    }\r\n  }\r\n\r\n  function handleChangeCustom(e) {\r\n    cartItems &&\r\n      cartItems.length > 0 &&\r\n      cartItems.map((item) => {\r\n        item.form = e.target.value;\r\n      });\r\n  }\r\n\r\n  function handleCheckCoupon(event) {\r\n    let check = event.target.value;\r\n    if (event.key === \"Enter\") {\r\n      if (check === coupon) {\r\n        setCouponConfirmed(true);\r\n      } else {\r\n        toast.error(\"Coupon không tồn tại\");\r\n      }\r\n    }\r\n  }\r\n\r\n  function toProductPage() {\r\n    history.push(\"/san-pham\");\r\n  }\r\n\r\n  function toRollPaperPage() {\r\n    history.push(\"/giay-cuon\");\r\n  }\r\n\r\n  function toPerforatedPage() {\r\n    history.push(\"/giay-dllt\");\r\n  }\r\n\r\n  function toPhotoPage() {\r\n    history.push(\"/giay-photo\");\r\n  }\r\n  return (\r\n    <>\r\n      <HomeHeader />\r\n      <Tab />\r\n      {cartItems.length === 0 && (\r\n        <div className=\"container\">\r\n          <div className=\"cart-title\">Giỏ hàng</div>\r\n          <div className=\"cart-empty-container\">\r\n            <div className=\"empty-cart\">Không có sản phẩm trong giỏ hàng</div>\r\n            <div className=\"return-pages\">\r\n              {/* <button onClick={toProductPage}>Xem tất cả sản phẩm</button> */}\r\n              <button onClick={toRollPaperPage}>Xem giấy cuộn</button>\r\n              <button onClick={toPerforatedPage}>\r\n                Xem giấy đục lỗ liên tục\r\n              </button>\r\n              <button onClick={toPhotoPage}>Xem giấy photocopy</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {cartItems.length !== 0 && (\r\n        <div className=\"container\">\r\n          <div className=\"cart-title\">Giỏ hàng</div>\r\n          <div className=\"cart-detail-container\">\r\n            <div className=\"cart-product-container\">\r\n              {cartItems.map((item, index) => {\r\n                const itemTotalPrice =\r\n                  item.amount *\r\n                  (item.detailProduct\r\n                    ? item.detailProduct.price\r\n                    : item.item.price);\r\n                return (\r\n                  <div className=\"item-container\" key={index}>\r\n                    <div className=\"item-img\">\r\n                      <img\r\n                        src={\r\n                          item.detailProduct\r\n                            ? item.detailProduct.image\r\n                            : Buffer.from(item.item.image, \"base64\").toString(\r\n                                \"binary\"\r\n                              )\r\n                        }\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"item-detail\">\r\n                      <div className=\"name\">\r\n                        {item.detailProduct\r\n                          ? item.detailProduct.name\r\n                          : item.item.name}\r\n                      </div>\r\n                      <div className=\"amount\">\r\n                        <span>Số lượng:</span>\r\n                        <span className=\"decrease\">\r\n                          <button type=\"button\" onClick={() => decNum(item)}>\r\n                            -\r\n                          </button>\r\n                        </span>\r\n                        <input\r\n                          type=\"number\"\r\n                          className=\"amount-number\"\r\n                          value={item.amount}\r\n                          onChange={(e) => handleChange(index, e)}\r\n                        />\r\n                        <span className=\"increase\">\r\n                          <button type=\"button\" onClick={() => incNum(item)}>\r\n                            +\r\n                          </button>\r\n                        </span>\r\n                      </div>\r\n                      {item.detailProduct\r\n                        ? item.detailProduct.type === \"đllt\"\r\n                        : item.item.type === \"đllt\" && (\r\n                            <div className=\"form\">\r\n                              Hình thức: {item.form}\r\n                              {/* <select\r\n                              defaultValue={item.form}\r\n                              onChange={(e) => handleChangeCustom(e)}\r\n                            >\r\n                              <option value=\"không chia\">Không chia</option>\r\n                              <option value=\"chia đôi\">Chia đôi</option>\r\n                            </select> */}\r\n                            </div>\r\n                          )}\r\n                      <div className=\"item-total-price\">\r\n                        Thành tiền:\r\n                        <CurrencyFormat\r\n                          className=\"price-number\"\r\n                          value={itemTotalPrice}\r\n                          displayType={\"text\"}\r\n                          thousandSeparator={true}\r\n                        />\r\n                        <div className=\"currency\">VNĐ</div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"delete-btn\">\r\n                      <button onClick={() => handleRemove(index)}>Xóa</button>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              <div className=\"cart-summary\">\r\n                <div className=\"total-price\">\r\n                  <span className=\"total-text\">Tạm tính:</span>\r\n                  <span className=\"total-number\">\r\n                    <CurrencyFormat\r\n                      value={preTotal}\r\n                      displayType={\"text\"}\r\n                      thousandSeparator={true}\r\n                    />\r\n                    <span className=\"total-currency\">VNĐ</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"vat\">\r\n                  <span className=\"vat-text\">Thuế VAT (8%):</span>\r\n                  <span className=\"vat-number\">\r\n                    <CurrencyFormat\r\n                      value={vat}\r\n                      displayType={\"text\"}\r\n                      thousandSeparator={true}\r\n                    />\r\n                    <span className=\"vat-currency\">VNĐ</span>\r\n                  </span>\r\n                </div>\r\n\r\n                <div className=\"shipFee\">\r\n                  <span className=\"ship-text\">Phí vận chuyển:</span>\r\n                  <span className=\"ship-number\">\r\n                    <CurrencyFormat\r\n                      value={shipFee}\r\n                      displayType={\"text\"}\r\n                      thousandSeparator={true}\r\n                    />\r\n                    <span className=\"ship-currency\">VNĐ</span>\r\n                  </span>\r\n                  {/* {shipFee === 0 && (\r\n                    <span className=\"ship-number\">\r\n                      <span className=\"ship-currency\">Miễn phí</span>\r\n                    </span>\r\n                  )} */}\r\n                </div>\r\n\r\n                {preTotal >= toInteger(1000000) && (\r\n                  <div className=\"coupon\">\r\n                    <span className=\"coupon-text\">Mã giảm giá:</span>\r\n                    {!couponConfirmed && (\r\n                      <span className=\"coupon-input\">\r\n                        <input\r\n                          type=\"text\"\r\n                          onKeyDown={(event) => handleCheckCoupon(event)}\r\n                        />\r\n                      </span>\r\n                    )}\r\n\r\n                    {couponConfirmed && (\r\n                      <span className=\"coupon-number\">\r\n                        <span>-</span>\r\n                        <CurrencyFormat\r\n                          value={couponDiscount}\r\n                          displayType={\"text\"}\r\n                          thousandSeparator={true}\r\n                        />\r\n                        <span className=\"coupon-currency\">VNĐ</span>\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                )}\r\n\r\n                {discount !== 0 && (\r\n                  <div className=\"discount\">\r\n                    <span className=\"discount-text\">Chiết khấu:</span>\r\n                    <span className=\"discount-number\">\r\n                      <span>-</span>\r\n                      <CurrencyFormat\r\n                        value={discount}\r\n                        displayType={\"text\"}\r\n                        thousandSeparator={true}\r\n                      />\r\n                      <span className=\"discount-currency\">VNĐ</span>\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"final\">\r\n                  <span className=\"final-text\">Tổng tiền thanh toán:</span>\r\n                  <span className=\"final-number\">\r\n                    <CurrencyFormat\r\n                      value={finalTotal}\r\n                      displayType={\"text\"}\r\n                      thousandSeparator={true}\r\n                    />\r\n                    <span className=\"final-currency\">VNĐ</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <button\r\n                className=\"commit-btn\"\r\n                onClick={() => handleConfirmOrder(selectedOption)}\r\n              >\r\n                Đặt hàng\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"cart-option-container\">\r\n              <div className=\"cart-payment\">\r\n                <div className=\"payment-choose\">\r\n                  <div className=\"payment-text\">Phương thức thanh toán:</div>\r\n                  <div className=\"payment-method\">\r\n                    <select\r\n                      defaultValue=\"option\"\r\n                      onChange={(e) => setSelectedMethod(e.currentTarget.value)}\r\n                    >\r\n                      Chọn phương thức trả tiền\r\n                      <option value=\"option\" hidden>\r\n                        Phương thức\r\n                      </option>\r\n                      <option value=\"Tiền mặt\">Tiền mặt</option>\r\n                      <option value=\"Chuyển khoản\">Chuyển khoản</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                {selectedMethod === \"Tiền mặt\" && (\r\n                  <div className=\"cashPay\">\r\n                    <span>\r\n                      Quý khách sẽ tiến hành thanh toán cho người vận chuyển sau\r\n                      khi nhận và kiểm tra hàng\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                {selectedMethod === \"Chuyển khoản\" && (\r\n                  <div className=\"bankPay\">\r\n                    <span>\r\n                      Quý khách vui lòng thanh toán theo số tài khoản sau:\r\n                    </span>\r\n                    <span>\r\n                      Số tài khoản: 037-1001-888888 <br />\r\n                      Ngân hàng Vietcombank - CN Tân Định\r\n                    </span>\r\n                    <span>\r\n                      Cú pháp: Số điện thoại _ Mã hóa đơn <br />\r\n                      (Mã hóa đơn lấy tại hóa đơn tạm tính sau khi xác nhận đặt\r\n                      hàng)\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"bill-export\">\r\n                <div className=\"bill-option-select\">\r\n                  <div className=\"bill-text\">\r\n                    Xuất hóa đơn giá trị gia tăng:\r\n                  </div>\r\n                  <div className=\"bill-option\">\r\n                    <select\r\n                      style={{ textAlign: \"center\" }}\r\n                      defaultValue=\"method\"\r\n                      onChange={(e) => setSelectedOption(e.currentTarget.value)}\r\n                    >\r\n                      <option value=\"method\" hidden>\r\n                        Tùy chọn\r\n                      </option>\r\n                      <option value=\"Có\">Có</option>\r\n                      <option value=\"Không\">Không</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                {selectedOption === \"Có\" && (\r\n                  <div className=\"info-form\">\r\n                    <div className=\"form-title\">\r\n                      Phiếu nhập thông tin khách hàng\r\n                    </div>\r\n                    <div className=\"second-form\">\r\n                      <div className=\"col-6\">\r\n                        <label>Tên công ty:</label>\r\n                        <span>*</span>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerCo(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-6\">\r\n                        <label>Mã số thuế:</label>\r\n                        <span>*</span>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerTax(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"second-form-below\">\r\n                      <div className=\"col-12\">\r\n                        <label>Địa chỉ công ty:</label>\r\n                        <span>*</span>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerCoAddress(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"first-form\">\r\n                      <div className=\"col-4\">\r\n                        <label>\r\n                          E-mail:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"email\"\r\n                          onChange={(e) => setCustomerEmail(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <label>\r\n                          Tên người mua:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerName(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <label>\r\n                          Số điện thoại:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerPhone(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"first-form-below\">\r\n                      <div className=\"col-12\">\r\n                        <label>\r\n                          Địa chỉ nhận hàng:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setReceiveAdress(e.target.value)}\r\n                        />\r\n                        <div>\r\n                          (Ngoài kv TP.HCM, chúng tôi sẽ liên hệ quý khách để\r\n                          báo giá vận chuyển)\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n\r\n                {selectedOption === \"Không\" && (\r\n                  <div className=\"info-form\">\r\n                    <div className=\"form-title\">\r\n                      Phiếu nhập thông tin khách hàng\r\n                    </div>\r\n                    <div className=\"first-form\">\r\n                      <div className=\"col-4\">\r\n                        <label>E-mail:</label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"email\"\r\n                          onChange={(e) => setCustomerEmail(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <label>\r\n                          Tên người mua:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerName(e.target.value)}\r\n                        />\r\n                      </div>\r\n                      <div className=\"col-4\">\r\n                        <label>\r\n                          Số điện thoại\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setCustomerPhone(e.target.value)}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"first-form-below\">\r\n                      <div className=\"col-12\">\r\n                        <label>\r\n                          Địa chỉ giao hàng:\r\n                          <span>*</span>\r\n                        </label>\r\n                        <input\r\n                          className=\"form-control\"\r\n                          type=\"text\"\r\n                          onChange={(e) => setReceiveAdress(e.target.value)}\r\n                        />\r\n                        <div>\r\n                          (Ngoài kv TP.HCM, chúng tôi sẽ liên hệ quý khách để\r\n                          báo giá vận chuyển)\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          {show && (\r\n            <div className=\"alert-overlay\">\r\n              <Alert\r\n                show={show}\r\n                variant=\"warning\"\r\n                transition=\"true\"\r\n                style={{\r\n                  position: \"fixed\",\r\n                  top: \"50%\",\r\n                  left: \"50%\",\r\n                  transform: \"translate(-50%, -50%)\",\r\n                  zIndex: \"1000\",\r\n                  textAlign: \"center\",\r\n                  transition: \"step-start\",\r\n                }}\r\n              >\r\n                <Alert.Heading style={{ textAlign: \"center\" }}>\r\n                  Lưu ý\r\n                </Alert.Heading>\r\n                <p style={{ textAlign: \"center\" }}>\r\n                  Xin quý khách vui lòng kiểm tra lại danh sách sản phẩm đã đặt\r\n                  và thông tin đặt hàng trước khi xác nhận. Sau khi xác nhận giỏ\r\n                  hàng sẽ tự động xóa.\r\n                </p>\r\n                <p style={{ textAlign: \"center\" }}>Xin cảm ơn quý khách</p>\r\n                <hr />\r\n                <div className=\"d-flex justify-content-center\">\r\n                  <Button\r\n                    onClick={() => handleSaveToOrder()}\r\n                    variant=\"outline-success\"\r\n                  >\r\n                    Xác nhận\r\n                  </Button>\r\n\r\n                  <Button\r\n                    onClick={() => setShow(false)}\r\n                    variant=\"outline-danger\"\r\n                  >\r\n                    Trở lại\r\n                  </Button>\r\n                </div>\r\n              </Alert>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      <HomeFooter />\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartItems: state.cart.cartItems,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    SaveToOrder: (cartItems) => dispatch(actions.SaveToOrder(cartItems)),\r\n    addToOrder: (orderDetails) => dispatch(actions.addToOrder(orderDetails)),\r\n  };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(DetailCart)\r\n);\r\n"]},"metadata":{},"sourceType":"module"}