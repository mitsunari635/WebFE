{"ast":null,"code":"var _jsxFileName = \"D:\\\\LienSon\\\\LienSon-FE\\\\src\\\\containers\\\\System\\\\Admin\\\\TableManageOrder.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"../../../store/actions\";\nimport \"./TableManageOrder.scss\";\nimport { Button, Modal, Table } from \"react-bootstrap\";\nimport CurrencyFormat from \"react-currency-format\";\nimport logo from \"../../../assets/LOGO LIEN SON.png\";\nimport soundFile from \"../../../assets/soundEffect.mp3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass TableManageOrder extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleEditOrder = orderInfo => {};\n\n    this.handleDeleteOrder = item => {\n      let orderInfo = {};\n      orderInfo.id = item.id;\n      orderInfo.orderNumber = item.orderNumber;\n      this.props.deleteOrder(orderInfo);\n    };\n\n    this.close = () => {\n      this.setState({\n        showModal: false\n      });\n    };\n\n    this.handleEsc = e => {\n      if (e.key === \"esc\") {\n        this.setState({\n          showModal: false\n        });\n      }\n    };\n\n    this.open = item => {\n      this.props.userByNumber(item.orderNumber);\n      this.props.detailByNumber(item.orderNumber);\n      const date = new Date(item.createdAt);\n      const formattedDate = date.toLocaleDateString(\"vi-VN\");\n      this.setState({\n        showModal: true,\n        preTotal: item.preTotal,\n        shipFee: item.shipFee,\n        discount: item.discount,\n        couponDiscount: item.couponDiscount,\n        totalPrice: item.totalPrice,\n        payment: item.payment,\n        address: item.address,\n        orderNumber: item.orderNumber,\n        vat: item.vat,\n        date: formattedDate,\n        billPrinted: item.billPrinted\n      });\n    };\n\n    this.checkRoll = value => {\n      if (value === \"cuộn\") {\n        return true;\n      } else {\n        return false;\n      }\n    };\n\n    this.handleEditOrderStatus = (item, e) => {\n      this.props.editOrderStatus({\n        id: item.id,\n        statusID: e.target.value\n      });\n    };\n\n    this.state = {\n      orderRedux: [],\n      statusArr: [],\n      statusID: \"\",\n      showModal: false,\n      orderNumber: \"\",\n      address: \"\",\n      time: \"\",\n      preTotal: 0,\n      vat: 0,\n      shipFee: 0,\n      discount: 0,\n      couponDiscount: 0,\n      totalPrice: 0,\n      fullName: \"\",\n      phoneNumber: \"\",\n      payment: \"\",\n      billPrinted: \"\",\n      discount: 0,\n      shipFee: 0,\n      newOrders: [],\n      statusNum: 0\n    };\n  }\n\n  componentDidMount() {\n    this.props.fetchOrderRedux();\n    this.props.fetchStatusRedux();\n    this.props.checkNewOrder();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.listOrders !== this.props.listOrders) {\n      this.setState({\n        orderRedux: this.props.listOrders\n      });\n    } // if (prevState.orderRedux !== this.state.orderRedux) {\n    //   const audio = new Audio(soundFile);\n    //   audio.play();\n    // }\n\n\n    if (prevProps.listDetail !== this.props.listDetail) {\n      this.setState({\n        detailProduct: this.props.listDetail\n      });\n    }\n\n    if (prevProps.listStatus !== this.props.listStatus) {\n      // let arrStatus = this.props.statusRedux;\n      this.setState({\n        statusArr: this.props.listStatus // status: arrStatus && arrStatus.length > 0 ? arrStatus[0].keyMap : \"\",\n\n      });\n    }\n\n    if (prevProps.listNewOrders !== this.props.listNewOrders) {\n      this.setState({\n        newOrders: this.props.listNewOrders\n      });\n    }\n  }\n\n  calcShipFee(preTotal) {\n    if (preTotal <= 5000000) {\n      return 35000;\n    }\n\n    if (5000000 < preTotal) {\n      if (10000000 < preTotal) {\n        return 0;\n      }\n\n      return 20000;\n    }\n  }\n\n  checkStatus(statusId, statusList) {\n    const matchedItem = statusList.find(item => item.keyMap === statusId);\n    const valueVi = matchedItem ? matchedItem.valueVi : null;\n    return valueVi;\n  }\n\n  render() {\n    let arrOrder = this.state.orderRedux;\n    let arrDetail = this.props.listDetail;\n    let userInfo = this.props.detailUser;\n    let status = this.state.statusArr;\n    let statusNum = this.state.statusNum;\n    const totalAmount = arrDetail.reduce((total, item) => total + item.amount, 0);\n    return /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"table\", {\n        id: \"TableManageOrder\",\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"M\\xE3 h\\xF3a \\u0111\\u01A1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ng\\xE0y \\u0111\\u1EB7t:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"H\\xECnh th\\u1EE9c thanh to\\xE1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 164,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ch\\u1ECDn in h\\xF3a \\u0111\\u01A1n:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tr\\u1EA1ng th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 166,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 167,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this), arrOrder && arrOrder.length > 0 && arrOrder.map((item, index) => {\n            let orderDate = new Date(item.createdAt);\n            let formattedOrderDate = orderDate.toLocaleDateString(\"vi-VN\");\n            let formattedOrderTime = orderDate.toLocaleTimeString(\"vi-VN\");\n            return /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.orderNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [formattedOrderDate, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 180,\n                  columnNumber: 23\n                }, this), formattedOrderTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 178,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.payment\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.billPrinted\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: item.statusID,\n                  onChange: e => this.handleEditOrderStatus(item, e),\n                  children: status && status.length > 0 && status.map((item, index) => {\n                    return /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: item.keyMap,\n                      children: item.valueVi\n                    }, index, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 194,\n                      columnNumber: 31\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.open(item),\n                  children: \"Chi ti\\u1EBFt\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => this.handleDeleteOrder(item),\n                  className: \"btn-delete\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-trash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 207,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 19\n            }, this);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        size: \"xl\",\n        \"aria-labelledby\": \"contained-modal-title-vcenter\",\n        show: this.state.showModal,\n        centered: true,\n        children: [/*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container\",\n            id: \"order\",\n            onKeyDown: e => this.handleEsc(e),\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container-fluid d-flex flex-column mt-2 border border-dark\",\n              style: {\n                maxWidth: \"780px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex border-bottom border-dark \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-8 d-flex justify-content-left\",\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: logo,\n                    alt: \"logo\",\n                    style: {\n                      width: \"20%\",\n                      height: \"100%\"\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex flex-column justify-content-around ml-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"font-weight-bold co-name\",\n                      style: {\n                        color: \"#354b9c\"\n                      },\n                      children: \"C\\xD4NG TY TNHH GI\\u1EA4Y VI T\\xCDNH LI\\xCAN S\\u01A0N\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 240,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u0110/c: 34 Nguy\\u1EC5n B\\u1EC9nh Khi\\xEAm, P.\\u0110a Kao, Q.1, TP.HCM\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 246,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: \"\\u0110i\\u1EC7n tho\\u1EA1i: (028) 39.100.555 - Hotline: 0903.539.536\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 239,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-4 d-flex flex-column justify-content-around\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-weight-bold text-center\",\n                    style: {\n                      color: \"#354b9c\"\n                    },\n                    children: \"H\\xD3A \\u0110\\u01A0N T\\u1EA0M T\\xCDNH\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center\",\n                    children: [\"Ng\\xE0y: \", this.state.date]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-center font-weight-bold\",\n                    children: [\"M\\xE3 h\\xF3a \\u0111\\u01A1n: \", this.state.orderNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 17\n              }, this), this.state.billPrinted === \"Có\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border-bottom border-dark\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row text-danger d-flex\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-9 font-weight-bold\",\n                    children: \"TH\\xD4NG TIN XU\\u1EA4T H\\xD3A \\u0110\\u01A0N\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 271,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-3 small font-weight-bold\",\n                    children: [\"Xu\\u1EA5t h\\xF3a \\u0111\\u01A1n VAT: \", this.state.billPrinted]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 274,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-9\",\n                    children: [\"T\\xEAn c\\xF4ng ty: \", userInfo.companyName]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-3\",\n                    children: [\"MST: \", userInfo.taxNumber]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 282,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-12\",\n                    children: [\"\\u0110\\u1ECBa ch\\u1EC9 c\\xF4ng ty: \", userInfo.companyAddress]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"d-flex flex-column\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"border-bottom border-dark\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-9\",\n                      children: [\"T\\xEAn ng\\u01B0\\u1EDDi \\u0111\\u1EB7t h\\xE0ng: \", userInfo.fullName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-3\",\n                      children: [\"S\\u0110T: \", userInfo.phoneNumber]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 293,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-12\",\n                      children: [\"\\u0110\\u1ECBa ch\\u1EC9 giao h\\xE0ng: \", this.state.address]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 300,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 299,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-9\",\n                      children: [this.state.payment === \"Tiền mặt\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\", this.state.payment]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 308,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-primary small\",\n                          children: \"(Qu\\xFD kh\\xE1ch thanh to\\xE1n cho ng\\u01B0\\u1EDDi v\\u1EADn chuy\\u1EC3n sau khi nh\\u1EADn v\\xE0 ki\\u1EC3m tra h\\xE0ng)\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 312,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 307,\n                        columnNumber: 27\n                      }, this), this.state.payment === \"Chuyển khoản\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\", this.state.payment]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 321,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-primary small\",\n                          children: [\"(Qu\\xFD kh\\xE1ch thanh to\\xE1n theo s\\u1ED1 t\\xE0i kho\\u1EA3n 037-1001-888888 NH Vietcombank - CN T\\xE2n \\u0110\\u1ECBnh)\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 328,\n                            columnNumber: 31\n                          }, this), \"(C\\xFA ph\\xE1p \\\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i _ M\\xE3 h\\xF3a \\u0111\\u01A1n\\\")\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 325,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 320,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 305,\n                      columnNumber: 23\n                    }, this), this.state.billPrinted === \"Không\" && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-3 text-danger\",\n                      children: [\"Xu\\u1EA5t h\\xF3a \\u0111\\u01A1n VAT: \", this.state.billPrinted]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 335,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 292,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n                  className: \"table-borderless table-sm\",\n                  children: [/*#__PURE__*/_jsxDEV(\"tbody\", {\n                    className: \"border-bottom border-dark\",\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"text-center border-bottom border-dark\",\n                      children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                        scope: \"col\",\n                        children: \"STT\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 344,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        scope: \"col\",\n                        children: \"T\\xEAn s\\u1EA3n ph\\u1EA9m\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 345,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        scope: \"col\",\n                        children: \"SL\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 346,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        scope: \"col\",\n                        className: \"text-right\",\n                        children: \"\\u0110\\u01A1n gi\\xE1\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 347,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                        scope: \"col\",\n                        className: \"text-right\",\n                        children: \"Th\\xE0nh ti\\u1EC1n\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 350,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 23\n                    }, this), Array.from({\n                      length: 30\n                    }).map((_, index) => {\n                      const item = arrDetail && arrDetail[index];\n\n                      if (item) {\n                        return /*#__PURE__*/_jsxDEV(\"tr\", {\n                          className: \"text-center\",\n                          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                            scope: \"row\",\n                            className: \"col-1\",\n                            children: index + 1\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 360,\n                            columnNumber: 31\n                          }, this), this.checkRoll(item.type) && /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-left col-7\",\n                            children: item.productName\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 364,\n                            columnNumber: 33\n                          }, this), !this.checkRoll(item.type) && /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-left col-7\",\n                            children: [item.productName, \"(\", item.form, \")\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 369,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"col-1\",\n                            children: item.amount\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 373,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-right col-1\",\n                            children: /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                              value: item.prePrice / item.amount,\n                              displayType: \"text\",\n                              thousandSeparator: true\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 375,\n                              columnNumber: 33\n                            }, this)\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 374,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                            className: \"text-right col-2\",\n                            children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                              value: item.prePrice,\n                              displayType: \"text\",\n                              thousandSeparator: true\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 382,\n                              columnNumber: 33\n                            }, this), \"\\xA0 VN\\u0110\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 381,\n                            columnNumber: 31\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 359,\n                          columnNumber: 29\n                        }, this);\n                      } else {\n                        return /*#__PURE__*/_jsxDEV(\"tr\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 394,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 395,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 396,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 397,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 398,\n                            columnNumber: 31\n                          }, this)]\n                        }, index, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 393,\n                          columnNumber: 29\n                        }, this);\n                      }\n                    })]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                    className: \"border-bottom border-dark\",\n                    children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 407,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        scope: \"col\",\n                        children: \"T\\u1ED5ng:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 408,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        scope: \"col\",\n                        children: totalAmount\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 411,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        scope: \"col\",\n                        children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                          value: this.state.preTotal,\n                          displayType: \"text\",\n                          thousandSeparator: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 414,\n                          columnNumber: 27\n                        }, this), \"\\xA0 VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 413,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 406,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      className: \"text-center\",\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        children: \"VAT(8%):\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 425,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 426,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 427,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                          value: this.state.vat,\n                          displayType: \"text\",\n                          thousandSeparator: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 429,\n                          columnNumber: 27\n                        }, this), \"\\xA0 VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 428,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 439,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        children: \"Ph\\xED v\\u1EADn chuy\\u1EC3n:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 441,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 442,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                          value: this.state.shipFee,\n                          displayType: \"text\",\n                          thousandSeparator: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 444,\n                          columnNumber: 27\n                        }, this), \"\\xA0 VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 443,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 438,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 454,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right text-danger\",\n                        children: \"M\\xE3 gi\\u1EA3m gi\\xE1:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 456,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 457,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right text-danger\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 459,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                          value: this.state.couponDiscount,\n                          displayType: \"text\",\n                          thousandSeparator: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 460,\n                          columnNumber: 27\n                        }, this), \"\\xA0 VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 458,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 453,\n                      columnNumber: 23\n                    }, this), this.state.discount !== 0 && /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 471,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right text-danger\",\n                        children: \"Chi\\u1EBFt kh\\u1EA5u:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 472,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 475,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 476,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right text-danger\",\n                        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"-\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 478,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                          value: this.state.discount,\n                          displayType: \"text\",\n                          thousandSeparator: true\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 479,\n                          columnNumber: 29\n                        }, this), \"\\xA0 VN\\u0110\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 477,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 470,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 490,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right text-uppercase\",\n                        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"font-weight-bold\",\n                          children: \"T\\u1ED5ng ti\\u1EC1n thanh to\\xE1n:\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 492,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 491,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 496,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                        className: \"text-right\",\n                        colSpan: 2,\n                        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                          className: \"font-weight-bold\",\n                          children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n                            value: this.state.totalPrice,\n                            displayType: \"text\",\n                            thousandSeparator: true,\n                            className: \"total-value\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 499,\n                            columnNumber: 29\n                          }, this), \"\\xA0 VN\\u0110\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 498,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 497,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 489,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 405,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 341,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-center\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-uppercase font-weight-bold\",\n                    children: \"Xin c\\u1EA3m \\u01A1n qu\\xFD kh\\xE1ch \\u0111\\xE3 mua h\\xE0ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 512,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"small\",\n                    children: \"(Trong v\\xF2ng 3 ng\\xE0y k\\u1EC3 t\\u1EEB ng\\xE0y nh\\u1EADn \\u0111\\u01B0\\u1EE3c h\\xE0ng, n\\u1EBFu qu\\xFD kh\\xE1ch kh\\xF4ng ph\\u1EA3n h\\u1ED3i v\\u1EC1 s\\u1EA3n ph\\u1EA9m, ch\\xFAng t\\xF4i ti\\u1EBFn h\\xE0nh xu\\u1EA5t h\\xF3a \\u0111\\u01A1n VAT v\\xE0 s\\u1EA3n ph\\u1EA9m s\\u1EBD kh\\xF4ng \\u0111\\u01B0\\u1EE3c \\u0111\\u1ED5i tr\\u1EA3 l\\u1EA1i)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 515,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 511,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container d-flex justify-content-center\",\n            style: {\n              maxWidth: \"790px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: () => window.print(),\n              children: \"In h\\xF3a \\u0111\\u01A1n\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-primary\",\n              onClick: () => this.close(),\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 538,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 527,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 526,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    listOrders: state.order.orders,\n    listDetail: state.order.detailOrders,\n    detailUser: state.order.userName,\n    listStatus: state.order.statusList,\n    listNewOrders: state.order.newOrders\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    fetchOrderRedux: () => dispatch(actions.fetchOrderStart()),\n    fetchStatusRedux: () => dispatch(actions.fetchStatusStart()),\n    deleteOrder: orderInfo => dispatch(actions.deleteOrderStart(orderInfo)),\n    detailByNumber: orderNumber => dispatch(actions.detailByNumber(orderNumber)),\n    userByNumber: orderNumber => dispatch(actions.UserByNumberStart(orderNumber)),\n    getStatusStart: () => dispatch(actions.fetchStatusStart()),\n    editOrderStatus: data => dispatch(actions.editOrderStatusFunc(data)),\n    checkNewOrder: () => dispatch(actions.handleCheckNewOrder())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TableManageOrder);","map":{"version":3,"sources":["D:/LienSon/LienSon-FE/src/containers/System/Admin/TableManageOrder.js"],"names":["React","Component","connect","actions","Button","Modal","Table","CurrencyFormat","logo","soundFile","TableManageOrder","constructor","props","handleEditOrder","orderInfo","handleDeleteOrder","item","id","orderNumber","deleteOrder","close","setState","showModal","handleEsc","e","key","open","userByNumber","detailByNumber","date","Date","createdAt","formattedDate","toLocaleDateString","preTotal","shipFee","discount","couponDiscount","totalPrice","payment","address","vat","billPrinted","checkRoll","value","handleEditOrderStatus","editOrderStatus","statusID","target","state","orderRedux","statusArr","time","fullName","phoneNumber","newOrders","statusNum","componentDidMount","fetchOrderRedux","fetchStatusRedux","checkNewOrder","componentDidUpdate","prevProps","prevState","snapshot","listOrders","listDetail","detailProduct","listStatus","listNewOrders","calcShipFee","checkStatus","statusId","statusList","matchedItem","find","keyMap","valueVi","render","arrOrder","arrDetail","userInfo","detailUser","status","totalAmount","reduce","total","amount","length","map","index","orderDate","formattedOrderDate","formattedOrderTime","toLocaleTimeString","maxWidth","width","height","color","companyName","taxNumber","companyAddress","Array","from","_","type","productName","form","prePrice","window","print","mapStateToProps","order","orders","detailOrders","userName","mapDispatchToProps","dispatch","fetchOrderStart","fetchStatusStart","deleteOrderStart","UserByNumberStart","getStatusStart","data","editOrderStatusFunc","handleCheckNewOrder"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from \"../../../store/actions\";\r\nimport \"./TableManageOrder.scss\";\r\nimport { Button, Modal, Table } from \"react-bootstrap\";\r\nimport CurrencyFormat from \"react-currency-format\";\r\nimport logo from \"../../../assets/LOGO LIEN SON.png\";\r\nimport soundFile from \"../../../assets/soundEffect.mp3\";\r\n\r\nclass TableManageOrder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      orderRedux: [],\r\n      statusArr: [],\r\n      statusID: \"\",\r\n      showModal: false,\r\n      orderNumber: \"\",\r\n      address: \"\",\r\n      time: \"\",\r\n      preTotal: 0,\r\n      vat: 0,\r\n      shipFee: 0,\r\n      discount: 0,\r\n      couponDiscount: 0,\r\n      totalPrice: 0,\r\n      fullName: \"\",\r\n      phoneNumber: \"\",\r\n      payment: \"\",\r\n      billPrinted: \"\",\r\n      discount: 0,\r\n      shipFee: 0,\r\n\r\n      newOrders: [],\r\n      statusNum: 0,\r\n    };\r\n  }\r\n  componentDidMount() {\r\n    this.props.fetchOrderRedux();\r\n    this.props.fetchStatusRedux();\r\n    this.props.checkNewOrder();\r\n  }\r\n  componentDidUpdate(prevProps, prevState, snapshot) {\r\n    if (prevProps.listOrders !== this.props.listOrders) {\r\n      this.setState({\r\n        orderRedux: this.props.listOrders,\r\n      });\r\n    }\r\n\r\n    // if (prevState.orderRedux !== this.state.orderRedux) {\r\n    //   const audio = new Audio(soundFile);\r\n    //   audio.play();\r\n    // }\r\n\r\n    if (prevProps.listDetail !== this.props.listDetail) {\r\n      this.setState({\r\n        detailProduct: this.props.listDetail,\r\n      });\r\n    }\r\n\r\n    if (prevProps.listStatus !== this.props.listStatus) {\r\n      // let arrStatus = this.props.statusRedux;\r\n      this.setState({\r\n        statusArr: this.props.listStatus,\r\n        // status: arrStatus && arrStatus.length > 0 ? arrStatus[0].keyMap : \"\",\r\n      });\r\n    }\r\n\r\n    if (prevProps.listNewOrders !== this.props.listNewOrders) {\r\n      this.setState({\r\n        newOrders: this.props.listNewOrders,\r\n      });\r\n    }\r\n  }\r\n  calcShipFee(preTotal) {\r\n    if (preTotal <= 5000000) {\r\n      return 35000;\r\n    }\r\n    if (5000000 < preTotal) {\r\n      if (10000000 < preTotal) {\r\n        return 0;\r\n      }\r\n      return 20000;\r\n    }\r\n  }\r\n  checkStatus(statusId, statusList) {\r\n    const matchedItem = statusList.find((item) => item.keyMap === statusId);\r\n    const valueVi = matchedItem ? matchedItem.valueVi : null;\r\n    return valueVi;\r\n  }\r\n  handleEditOrder = (orderInfo) => {};\r\n  handleDeleteOrder = (item) => {\r\n    let orderInfo = {};\r\n    orderInfo.id = item.id;\r\n    orderInfo.orderNumber = item.orderNumber;\r\n    this.props.deleteOrder(orderInfo);\r\n  };\r\n\r\n  close = () => {\r\n    this.setState({ showModal: false });\r\n  };\r\n\r\n  handleEsc = (e) => {\r\n    if (e.key === \"esc\") {\r\n      this.setState({\r\n        showModal: false,\r\n      });\r\n    }\r\n  };\r\n\r\n  open = (item) => {\r\n    this.props.userByNumber(item.orderNumber);\r\n    this.props.detailByNumber(item.orderNumber);\r\n    const date = new Date(item.createdAt);\r\n    const formattedDate = date.toLocaleDateString(\"vi-VN\");\r\n    this.setState({\r\n      showModal: true,\r\n      preTotal: item.preTotal,\r\n      shipFee: item.shipFee,\r\n      discount: item.discount,\r\n      couponDiscount: item.couponDiscount,\r\n      totalPrice: item.totalPrice,\r\n      payment: item.payment,\r\n      address: item.address,\r\n      orderNumber: item.orderNumber,\r\n      vat: item.vat,\r\n      date: formattedDate,\r\n      billPrinted: item.billPrinted,\r\n    });\r\n  };\r\n\r\n  checkRoll = (value) => {\r\n    if (value === \"cuộn\") {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  handleEditOrderStatus = (item, e) => {\r\n    this.props.editOrderStatus({\r\n      id: item.id,\r\n      statusID: e.target.value,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    let arrOrder = this.state.orderRedux;\r\n    let arrDetail = this.props.listDetail;\r\n    let userInfo = this.props.detailUser;\r\n    let status = this.state.statusArr;\r\n    let statusNum = this.state.statusNum;\r\n    const totalAmount = arrDetail.reduce(\r\n      (total, item) => total + item.amount,\r\n      0\r\n    );\r\n    return (\r\n      <React.Fragment>\r\n        <table id=\"TableManageOrder\">\r\n          <tbody>\r\n            <tr>\r\n              <th>Mã hóa đơn</th>\r\n              <th>Ngày đặt:</th>\r\n              <th>Hình thức thanh toán:</th>\r\n              <th>Chọn in hóa đơn:</th>\r\n              <th>Trạng thái:</th>\r\n              <th>Hành động</th>\r\n            </tr>\r\n            {arrOrder &&\r\n              arrOrder.length > 0 &&\r\n              arrOrder.map((item, index) => {\r\n                let orderDate = new Date(item.createdAt);\r\n                let formattedOrderDate = orderDate.toLocaleDateString(\"vi-VN\");\r\n                let formattedOrderTime = orderDate.toLocaleTimeString(\"vi-VN\");\r\n                return (\r\n                  <tr key={index}>\r\n                    <td>{item.orderNumber}</td>\r\n                    <td>\r\n                      {formattedOrderDate}\r\n                      <br />\r\n                      {formattedOrderTime}\r\n                    </td>\r\n                    <td>{item.payment}</td>\r\n                    <td>{item.billPrinted}</td>\r\n                    <td>\r\n                      <select\r\n                        value={item.statusID}\r\n                        onChange={(e) => this.handleEditOrderStatus(item, e)}\r\n                      >\r\n                        {status &&\r\n                          status.length > 0 &&\r\n                          status.map((item, index) => {\r\n                            return (\r\n                              <option key={index} value={item.keyMap}>\r\n                                {item.valueVi}\r\n                              </option>\r\n                            );\r\n                          })}\r\n                      </select>\r\n                    </td>\r\n                    <td>\r\n                      <button onClick={() => this.open(item)}>Chi tiết</button>\r\n                      <button\r\n                        onClick={() => this.handleDeleteOrder(item)}\r\n                        className=\"btn-delete\"\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                );\r\n              })}\r\n          </tbody>\r\n        </table>\r\n\r\n        <Modal\r\n          size=\"xl\"\r\n          aria-labelledby=\"contained-modal-title-vcenter\"\r\n          show={this.state.showModal}\r\n          centered\r\n        >\r\n          <Modal.Body>\r\n            <div\r\n              className=\"container\"\r\n              id=\"order\"\r\n              onKeyDown={(e) => this.handleEsc(e)}\r\n            >\r\n              <div\r\n                className=\"container-fluid d-flex flex-column mt-2 border border-dark\"\r\n                style={{ maxWidth: \"780px\" }}\r\n              >\r\n                <div className=\"d-flex border-bottom border-dark \">\r\n                  <div className=\"col-8 d-flex justify-content-left\">\r\n                    <img\r\n                      src={logo}\r\n                      alt=\"logo\"\r\n                      style={{ width: \"20%\", height: \"100%\" }}\r\n                    />\r\n                    <div className=\"d-flex flex-column justify-content-around ml-2\">\r\n                      <h5\r\n                        className=\"font-weight-bold co-name\"\r\n                        style={{ color: \"#354b9c\" }}\r\n                      >\r\n                        CÔNG TY TNHH GIẤY VI TÍNH LIÊN SƠN\r\n                      </h5>\r\n                      <div>\r\n                        Đ/c: 34 Nguyễn Bỉnh Khiêm, P.Đa Kao, Q.1, TP.HCM\r\n                      </div>\r\n                      <div>\r\n                        Điện thoại: (028) 39.100.555 - Hotline: 0903.539.536\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-4 d-flex flex-column justify-content-around\">\r\n                    <h4\r\n                      className=\"font-weight-bold text-center\"\r\n                      style={{ color: \"#354b9c\" }}\r\n                    >\r\n                      HÓA ĐƠN TẠM TÍNH\r\n                    </h4>\r\n                    <div className=\"text-center\">Ngày: {this.state.date}</div>\r\n                    <div className=\"text-center font-weight-bold\">\r\n                      Mã hóa đơn: {this.state.orderNumber}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {this.state.billPrinted === \"Có\" && (\r\n                  <div className=\"border-bottom border-dark\">\r\n                    <div className=\"row text-danger d-flex\">\r\n                      <div className=\"col-9 font-weight-bold\">\r\n                        THÔNG TIN XUẤT HÓA ĐƠN\r\n                      </div>\r\n                      <div className=\"col-3 small font-weight-bold\">\r\n                        Xuất hóa đơn VAT: {this.state.billPrinted}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-9\">\r\n                        Tên công ty: {userInfo.companyName}\r\n                      </div>\r\n                      <div className=\"col-3\">MST: {userInfo.taxNumber}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        Địa chỉ công ty: {userInfo.companyAddress}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                <div className=\"d-flex flex-column\">\r\n                  <div className=\"border-bottom border-dark\">\r\n                    <div className=\"row\">\r\n                      <div className=\"col-9\">\r\n                        Tên người đặt hàng: {userInfo.fullName}\r\n                      </div>\r\n                      <div className=\"col-3\">SĐT: {userInfo.phoneNumber}</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-12\">\r\n                        Địa chỉ giao hàng: {this.state.address}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                      <div className=\"col-9\">\r\n                        {this.state.payment === \"Tiền mặt\" && (\r\n                          <div>\r\n                            <div>\r\n                              Phương thức thanh toán:\r\n                              {this.state.payment}\r\n                            </div>\r\n                            <div className=\"text-primary small\">\r\n                              (Quý khách thanh toán cho người vận chuyển sau khi\r\n                              nhận và kiểm tra hàng)\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n\r\n                        {this.state.payment === \"Chuyển khoản\" && (\r\n                          <div>\r\n                            <div>\r\n                              Phương thức thanh toán:\r\n                              {this.state.payment}\r\n                            </div>\r\n                            <div className=\"text-primary small\">\r\n                              (Quý khách thanh toán theo số tài khoản\r\n                              037-1001-888888 NH Vietcombank - CN Tân Định)\r\n                              <br />\r\n                              (Cú pháp \"Số điện thoại _ Mã hóa đơn\")\r\n                            </div>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                      {this.state.billPrinted === \"Không\" && (\r\n                        <div className=\"col-3 text-danger\">\r\n                          Xuất hóa đơn VAT: {this.state.billPrinted}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                  <table className=\"table-borderless table-sm\">\r\n                    <tbody className=\"border-bottom border-dark\">\r\n                      <tr className=\"text-center border-bottom border-dark\">\r\n                        <th scope=\"col\">STT</th>\r\n                        <th scope=\"col\">Tên sản phẩm</th>\r\n                        <th scope=\"col\">SL</th>\r\n                        <th scope=\"col\" className=\"text-right\">\r\n                          Đơn giá\r\n                        </th>\r\n                        <th scope=\"col\" className=\"text-right\">\r\n                          Thành tiền\r\n                        </th>\r\n                      </tr>\r\n\r\n                      {Array.from({ length: 30 }).map((_, index) => {\r\n                        const item = arrDetail && arrDetail[index];\r\n                        if (item) {\r\n                          return (\r\n                            <tr key={index} className=\"text-center\">\r\n                              <th scope=\"row\" className=\"col-1\">\r\n                                {index + 1}\r\n                              </th>\r\n                              {this.checkRoll(item.type) && (\r\n                                <td className=\"text-left col-7\">\r\n                                  {item.productName}\r\n                                </td>\r\n                              )}\r\n                              {!this.checkRoll(item.type) && (\r\n                                <td className=\"text-left col-7\">\r\n                                  {item.productName}({item.form})\r\n                                </td>\r\n                              )}\r\n                              <td className=\"col-1\">{item.amount}</td>\r\n                              <td className=\"text-right col-1\">\r\n                                <CurrencyFormat\r\n                                  value={item.prePrice / item.amount}\r\n                                  displayType={\"text\"}\r\n                                  thousandSeparator={true}\r\n                                />\r\n                              </td>\r\n                              <td className=\"text-right col-2\">\r\n                                <CurrencyFormat\r\n                                  value={item.prePrice}\r\n                                  displayType={\"text\"}\r\n                                  thousandSeparator={true}\r\n                                />\r\n                                &nbsp; VNĐ\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        } else {\r\n                          return (\r\n                            <tr key={index}>\r\n                              <td></td>\r\n                              <td></td>\r\n                              <td></td>\r\n                              <td></td>\r\n                              <td></td>\r\n                            </tr>\r\n                          );\r\n                        }\r\n                      })}\r\n                    </tbody>\r\n\r\n                    <tbody className=\"border-bottom border-dark\">\r\n                      <tr className=\"text-center\">\r\n                        <td></td>\r\n                        <td className=\"text-right\" scope=\"col\">\r\n                          Tổng:\r\n                        </td>\r\n                        <td scope=\"col\">{totalAmount}</td>\r\n                        <td></td>\r\n                        <td className=\"text-right\" scope=\"col\">\r\n                          <CurrencyFormat\r\n                            value={this.state.preTotal}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={true}\r\n                          />\r\n                          &nbsp; VNĐ\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr className=\"text-center\">\r\n                        <td></td>\r\n                        <td className=\"text-right\">VAT(8%):</td>\r\n                        <td></td>\r\n                        <td></td>\r\n                        <td className=\"text-right\">\r\n                          <CurrencyFormat\r\n                            value={this.state.vat}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={true}\r\n                          />\r\n                          &nbsp; VNĐ\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td></td>\r\n                        <td className=\"text-right\">Phí vận chuyển:</td>\r\n                        <td></td>\r\n                        <td></td>\r\n                        <td className=\"text-right\">\r\n                          <CurrencyFormat\r\n                            value={this.state.shipFee}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={true}\r\n                          />\r\n                          &nbsp; VNĐ\r\n                        </td>\r\n                      </tr>\r\n\r\n                      <tr>\r\n                        <td></td>\r\n                        <td className=\"text-right text-danger\">Mã giảm giá:</td>\r\n                        <td></td>\r\n                        <td></td>\r\n                        <td className=\"text-right text-danger\">\r\n                          <span>-</span>\r\n                          <CurrencyFormat\r\n                            value={this.state.couponDiscount}\r\n                            displayType={\"text\"}\r\n                            thousandSeparator={true}\r\n                          />\r\n                          &nbsp; VNĐ\r\n                        </td>\r\n                      </tr>\r\n\r\n                      {this.state.discount !== 0 && (\r\n                        <tr>\r\n                          <td></td>\r\n                          <td className=\"text-right text-danger\">\r\n                            Chiết khấu:\r\n                          </td>\r\n                          <td></td>\r\n                          <td></td>\r\n                          <td className=\"text-right text-danger\">\r\n                            <span>-</span>\r\n                            <CurrencyFormat\r\n                              value={this.state.discount}\r\n                              displayType={\"text\"}\r\n                              thousandSeparator={true}\r\n                            />\r\n                            &nbsp; VNĐ\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n\r\n                      <tr>\r\n                        <td></td>\r\n                        <td className=\"text-right text-uppercase\">\r\n                          <h5 className=\"font-weight-bold\">\r\n                            Tổng tiền thanh toán:\r\n                          </h5>\r\n                        </td>\r\n                        <td></td>\r\n                        <td className=\"text-right\" colSpan={2}>\r\n                          <h5 className=\"font-weight-bold\">\r\n                            <CurrencyFormat\r\n                              value={this.state.totalPrice}\r\n                              displayType={\"text\"}\r\n                              thousandSeparator={true}\r\n                              className=\"total-value\"\r\n                            />\r\n                            &nbsp; VNĐ\r\n                          </h5>\r\n                        </td>\r\n                      </tr>\r\n                    </tbody>\r\n                  </table>\r\n                  <div className=\"text-center\">\r\n                    <div className=\"text-uppercase font-weight-bold\">\r\n                      Xin cảm ơn quý khách đã mua hàng\r\n                    </div>\r\n                    <div className=\"small\">\r\n                      (Trong vòng 3 ngày kể từ ngày nhận được hàng, nếu quý\r\n                      khách không phản hồi về sản phẩm, chúng tôi tiến hành xuất\r\n                      hóa đơn VAT và sản phẩm sẽ không được đổi trả lại)\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div></div>\r\n              </div>\r\n            </div>\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <div\r\n              className=\"container d-flex justify-content-center\"\r\n              style={{ maxWidth: \"790px\" }}\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={() => window.print()}\r\n              >\r\n                In hóa đơn\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                className=\"btn btn-primary\"\r\n                onClick={() => this.close()}\r\n              >\r\n                Đóng\r\n              </button>\r\n            </div>\r\n          </Modal.Footer>\r\n        </Modal>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    listOrders: state.order.orders,\r\n    listDetail: state.order.detailOrders,\r\n    detailUser: state.order.userName,\r\n    listStatus: state.order.statusList,\r\n    listNewOrders: state.order.newOrders,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    fetchOrderRedux: () => dispatch(actions.fetchOrderStart()),\r\n    fetchStatusRedux: () => dispatch(actions.fetchStatusStart()),\r\n    deleteOrder: (orderInfo) => dispatch(actions.deleteOrderStart(orderInfo)),\r\n    detailByNumber: (orderNumber) =>\r\n      dispatch(actions.detailByNumber(orderNumber)),\r\n    userByNumber: (orderNumber) =>\r\n      dispatch(actions.UserByNumberStart(orderNumber)),\r\n    getStatusStart: () => dispatch(actions.fetchStatusStart()),\r\n    editOrderStatus: (data) => dispatch(actions.editOrderStatusFunc(data)),\r\n    checkNewOrder: () => dispatch(actions.handleCheckNewOrder()),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(TableManageOrder);\r\n"]},"metadata":{},"sourceType":"module"}