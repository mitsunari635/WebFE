{"ast":null,"code":"var _jsxFileName = \"D:\\\\LienSon\\\\LienSon-FE\\\\src\\\\containers\\\\Customer\\\\Product\\\\PopupForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { connect, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { CommonUtils } from \"../../../utils\";\nimport Popup from \"reactjs-popup\";\nimport { sendContactEmail } from \"../../../services/userService\";\nimport \"./PopupForm.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst PopupForm = () => {\n  _s();\n\n  const [phone, setPhone] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [coName, setCoName] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [previewImgUrl, setPreviewImgUrl] = useState(\"\");\n  const [image, setImage] = useState(\"\");\n\n  function checkValidateInput() {\n    let isValid = true;\n    let arrCheck = [\"name\", \"phone\", \"coName\", \"content\"];\n\n    for (let i = 0; i < arrCheck.length; i++) {\n      if (![arrCheck[i]]) {\n        isValid = false;\n        toast.error(\"Thông tin không được để trống\");\n        break;\n      }\n    }\n\n    return isValid;\n  }\n\n  async function handleSendEmail() {\n    let isValid = checkValidateInput();\n    if (isValid === false) return;\n    let res = await sendContactEmail({\n      name: name,\n      company: coName,\n      phone: phone,\n      content: content,\n      image: image,\n      previewImgUrl: previewImgUrl\n    });\n\n    if (res && res.errCode === 0) {\n      toast.success(\"Email đã gửi\");\n    } else {\n      toast.error(`Không thể gửi Email`);\n    }\n  }\n\n  async function handleOnChangeImage(event) {\n    const data = event.target.files;\n    const file = data[0];\n\n    if (file) {\n      const base64 = await CommonUtils.getBase64(file);\n      const objectUrl = URL.createObjectURL(file);\n      setImage(base64);\n      setPreviewImgUrl(objectUrl);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Popup, {\n      trigger: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"contact-button\",\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-envelope\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"order\",\n          children: \"Li\\xEAn h\\u1EC7 \\u0111\\u1EB7t h\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 11\n      }, this),\n      modal: true,\n      nested: true,\n      children: close => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"alert-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contact-order\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Li\\xEAn h\\u1EC7 \\u0111\\u1EB7t h\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close\",\n              onClick: close,\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row first-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"H\\u1ECD t\\xEAn ng\\u01B0\\u1EDDi \\u0111\\u1EB7t h\\xE0ng:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  value: name,\n                  onChange: event => setName(event.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"T\\xEAn c\\xF4ng ty:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"text\",\n                  value: coName,\n                  onChange: event => setCoName(event.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"form-control\",\n                  type: \"tel\",\n                  pattern: \"[0-9]{10}\",\n                  value: phone,\n                  onChange: event => setPhone(event.target.value),\n                  required: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row second-row\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-12\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: [\"N\\u1ED9i dung:\", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"*\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 132,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"form-control\",\n                  value: content,\n                  onChange: event => setContent(event.target.value),\n                  type: \"text\",\n                  rows: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row third-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"preview-img-container\",\n                  children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                    id: \"previewImg\",\n                    type: \"file\",\n                    hidden: true,\n                    onChange: event => handleOnChangeImage(event)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    children: \"H\\xECnh \\u1EA3nh \\u0111\\xEDnh k\\xE8m: \"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                    className: \"label-upload\",\n                    htmlFor: \"previewImg\",\n                    children: [\"T\\u1EA3i \\u1EA3nh\", /*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-upload\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 32\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"preview-img\",\n                    style: {\n                      backgroundImage: `url(${previewImgUrl})`\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 157,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-8 d-flex align-items-end\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"button\",\n                  onClick: () => {\n                    handleSendEmail();\n                    setName(\"\");\n                    setCoName(\"\");\n                    setPhone(\"\");\n                    setContent(\"\");\n                    setImage(\"\");\n                    setPreviewImgUrl(\"\");\n                    close();\n                  },\n                  children: \"G\\u1EEDi E-mail\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(PopupForm, \"KpjohzHAAlV9AZZ4xaHR1G6BvEA=\");\n\n_c = PopupForm;\n\nconst mapStateToProps = state => {\n  return {};\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupForm);\n\nvar _c;\n\n$RefreshReg$(_c, \"PopupForm\");","map":{"version":3,"sources":["D:/LienSon/LienSon-FE/src/containers/Customer/Product/PopupForm.js"],"names":["React","useState","connect","useDispatch","toast","CommonUtils","Popup","sendContactEmail","PopupForm","phone","setPhone","name","setName","coName","setCoName","content","setContent","previewImgUrl","setPreviewImgUrl","image","setImage","checkValidateInput","isValid","arrCheck","i","length","error","handleSendEmail","res","company","errCode","success","handleOnChangeImage","event","data","target","files","file","base64","getBase64","objectUrl","URL","createObjectURL","close","value","backgroundImage","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { connect, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport { CommonUtils } from \"../../../utils\";\r\nimport Popup from \"reactjs-popup\";\r\nimport { sendContactEmail } from \"../../../services/userService\";\r\nimport \"./PopupForm.scss\";\r\n\r\nconst PopupForm = () => {\r\n  const [phone, setPhone] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [coName, setCoName] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n  const [previewImgUrl, setPreviewImgUrl] = useState(\"\");\r\n  const [image, setImage] = useState(\"\");\r\n\r\n  function checkValidateInput() {\r\n    let isValid = true;\r\n    let arrCheck = [\"name\", \"phone\", \"coName\", \"content\"];\r\n    for (let i = 0; i < arrCheck.length; i++) {\r\n      if (![arrCheck[i]]) {\r\n        isValid = false;\r\n        toast.error(\"Thông tin không được để trống\");\r\n        break;\r\n      }\r\n    }\r\n    return isValid;\r\n  }\r\n\r\n  async function handleSendEmail() {\r\n    let isValid = checkValidateInput();\r\n    if (isValid === false) return;\r\n\r\n    let res = await sendContactEmail({\r\n      name: name,\r\n      company: coName,\r\n      phone: phone,\r\n      content: content,\r\n      image: image,\r\n      previewImgUrl: previewImgUrl,\r\n    });\r\n\r\n    if (res && res.errCode === 0) {\r\n      toast.success(\"Email đã gửi\");\r\n    } else {\r\n      toast.error(`Không thể gửi Email`);\r\n    }\r\n  }\r\n\r\n  async function handleOnChangeImage(event) {\r\n    const data = event.target.files;\r\n    const file = data[0];\r\n    if (file) {\r\n      const base64 = await CommonUtils.getBase64(file);\r\n      const objectUrl = URL.createObjectURL(file);\r\n      setImage(base64);\r\n      setPreviewImgUrl(objectUrl);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Popup\r\n        trigger={\r\n          <button className=\"contact-button\">\r\n            <i className=\"fas fa-envelope\"></i>\r\n            <span className=\"order\">Liên hệ đặt hàng</span>\r\n          </button>\r\n        }\r\n        modal\r\n        nested\r\n      >\r\n        {(close) => (\r\n          <div className=\"alert-overlay\">\r\n            <div className=\"contact-order\">\r\n              <div className=\"col-12 header\">\r\n                <span>Liên hệ đặt hàng</span>\r\n                <button className=\"close\" onClick={close}>\r\n                  &times;\r\n                </button>\r\n              </div>\r\n              <div className=\"col-12 body\">\r\n                <div className=\"row first-row\">\r\n                  <div className=\"col-4\">\r\n                    <label>\r\n                      Họ tên người đặt hàng:\r\n                      <span>*</span>\r\n                    </label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      value={name}\r\n                      onChange={(event) => setName(event.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-4\">\r\n                    <label>\r\n                      Tên công ty:\r\n                      <span>*</span>\r\n                    </label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      type=\"text\"\r\n                      value={coName}\r\n                      onChange={(event) => setCoName(event.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"col-4\">\r\n                    <label>\r\n                      Số điện thoại:\r\n                      <span>*</span>\r\n                    </label>\r\n                    <input\r\n                      className=\"form-control\"\r\n                      type=\"tel\"\r\n                      pattern=\"[0-9]{10}\"\r\n                      value={phone}\r\n                      onChange={(event) => setPhone(event.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row second-row\">\r\n                  <div className=\"col-12\">\r\n                    <label>\r\n                      Nội dung:\r\n                      <span>*</span>\r\n                    </label>\r\n                    <textarea\r\n                      className=\"form-control\"\r\n                      value={content}\r\n                      onChange={(event) => setContent(event.target.value)}\r\n                      type=\"text\"\r\n                      rows=\"3\"\r\n                    ></textarea>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"row third-row\">\r\n                  <div className=\"col-4\">\r\n                    <div className=\"preview-img-container\">\r\n                      <input\r\n                        id=\"previewImg\"\r\n                        type=\"file\"\r\n                        hidden\r\n                        onChange={(event) => handleOnChangeImage(event)}\r\n                      />\r\n                      <label>Hình ảnh đính kèm: </label>\r\n                      <label className=\"label-upload\" htmlFor=\"previewImg\">\r\n                        Tải ảnh<i className=\"fas fa-upload\"></i>\r\n                      </label>\r\n                      <div\r\n                        className=\"preview-img\"\r\n                        style={{\r\n                          backgroundImage: `url(${previewImgUrl})`,\r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col-8 d-flex align-items-end\">\r\n                    <button\r\n                      className=\"button\"\r\n                      onClick={() => {\r\n                        handleSendEmail();\r\n                        setName(\"\");\r\n                        setCoName(\"\");\r\n                        setPhone(\"\");\r\n                        setContent(\"\");\r\n                        setImage(\"\");\r\n                        setPreviewImgUrl(\"\");\r\n                        close();\r\n                      }}\r\n                    >\r\n                      Gửi E-mail\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </Popup>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {};\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {};\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(PopupForm);\r\n"]},"metadata":{},"sourceType":"module"}